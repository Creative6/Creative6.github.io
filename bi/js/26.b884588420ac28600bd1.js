webpackJsonp([26],{632:function(t,e,a){"use strict";function o(t){a(788)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(741),i=a(790),r=a(244),l=o,c=r(n.a,i.a,!1,l,"data-v-d570c26a",null);e.default=c.exports},741:function(t,e,a){"use strict";var o=a(246);e.a={components:{QUploader:o.y,QIcon:o.f,QModal:o.p,QBtn:o.c,QDataTable:o.d,QRadio:o.r},name:"name",data:function(){return{option:"",url:JSON.parse(localStorage.getItem("userinfo")).uid,open:!1,radioOptions:[],colp:[],vp:[]}},methods:{getdata:function(){var t=this;o.b.show(),this.call("/test",{tablename:this.option},function(e){if(e.state){var a=e.data;if(t.vp=a,a&&a.length>0){var n=a[0],i=[];for(var r in n)i.push(r);t.colp=i}}o.b.hide()})},uploaded:function(t,e){var a=this;a.open=!1,o.a.create({title:"上传成功",buttons:[{label:"好的",handler:function(t){a.getDresource()}}]})},getDresource:function(){var t=this;t.call("/getDresource",{uid:localStorage.getItem("userinfo")?JSON.parse(localStorage.getItem("userinfo")).uid:0},function(e){if(e.state){for(var a=[],o="",n=0;n<e.data.length;n++){var i=e.data[n];0===n&&(o=i.name),a.push({label:i.name,value:i.name})}t.option=o,t.radioOptions=a,t.call("/test",{tablename:o},function(e){if(e.state){var a=e.data;if(t.vp=a,a&&a.length>0){var o=a[0],n=[];for(var i in o)n.push(i);t.colp=n}}console.log(e.data)})}})}},mounted:function(){this.getDresource()}}},788:function(t,e,a){var o=a(789);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(613)("533e946b",o,!0,{})},789:function(t,e,a){e=t.exports=a(612)(!1),e.push([t.i,".content[data-v-d570c26a]{padding:15px}table[data-v-d570c26a]{border-collapse:collapse;width:100%;text-align:center}td[data-v-d570c26a],th[data-v-d570c26a]{border:1px solid #ccc;padding:4px;font-size:13px}",""])},790:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t.open?a("q-modal",{ref:"basicModal",model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[a("q-uploader",{attrs:{url:t.url,name:"excel",color:"grey-10"},on:{uploaded:t.uploaded}}),t._v(" "),a("q-btn",{staticStyle:{margin:"10px",float:"right"},attrs:{color:"cyan-8"},on:{click:function(e){t.$refs.basicModal.close()}}},[t._v("关闭")])],1):t._e(),t._v(" "),a("div",[a("div",{staticStyle:{overflow:"hidden","line-height":"40px"}},[a("q-icon",{staticStyle:{"margin-right":"10px"},attrs:{name:"view_list",color:"grey-7",size:"25px"}}),t._v("目前已上传的sheet\n      "),a("div",{staticStyle:{float:"right",height:"40px",overflow:"hidden"}},[a("q-btn",{attrs:{icon:"cloud_upload",color:"cyan-8"},on:{click:function(e){t.open=!0}}},[t._v("上传Excel")])],1)],1),t._v(" "),a("div",{staticStyle:{padding:"10px",margin:"10px 0px",background:"#eee",border:"1px solid #ccc"}},t._l(t.radioOptions,function(e,o){return a("q-radio",{key:o,attrs:{val:e.value,label:e.label},on:{click:function(e){t.alert(1)}},model:{value:t.option,callback:function(e){t.option=e},expression:"option"}})})),t._v(" "),a("div",[a("q-btn",{attrs:{icon:"get_app",color:"orange-8"},on:{click:t.getdata}},[t._v("获取数据")])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"10px",height:"calc(100vh - 230px)",overflow:"auto"}},[a("table",[a("tr",{staticStyle:{background:"rgb(112, 94, 136)",color:"#fff"}},t._l(t.colp,function(e,o){return a("th",{key:o},[t._v(t._s(e))])})),t._v(" "),t._l(t.vp,function(e,o){return a("tr",{key:o,style:{background:o%2==0?"#eee":""}},t._l(e,function(e,o){return a("td",{key:o},[t._v(t._s(e))])}))})],2)])])],1)},n=[],i={render:o,staticRenderFns:n};e.a=i}});